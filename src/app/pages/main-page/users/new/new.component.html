<!-- Este el nuevo de Users -->
<mat-dialog-content>

  <div class="card card-warning">

        <div class="card-header">
             <h2 class="card-title mb-0">{{ 'newuser' | translate }}</h2>
             <button type="button" class="close" mat-dialog-close></button>

        </div>

       <form autocomplete="off" [formGroup]="fus" (ngSubmit)="saveUsers()">
             <div class="card-body">

                        <ng-container *ngIf="!loadData">
                          <mat-dialog-actions>
                            <div class="form-group col-md-6 mb-3">

                                            <input
                                              type="text"
                                              id="InputName"
                                              class="form-control"
                                              placeholder="{{ 'name' | translate }}"
                                              formControlName="displayName"
                                              [ngClass]="{ 'is-invalid': invalidField('displayName') }"     />
                                            <div class="invalid-feedback">Please provide a name</div>


                                          <input
                                              type="text"
                                              id="Inputage"
                                              class="form-control"
                                              placeholder="{{ 'age' | translate }}"
                                              formControlName="age"
                                              [ngClass]="{ 'is-invalid': age.invalid && (age.dirty || age.touched) }"/>
                                            <div *ngIf="age.invalid && (age.dirty || age.touched)" class="invalid-feedback">
                                              <div *ngIf="age.hasError('required')" class="invalid-feedback">Please enter an age.</div>
                                              <div *ngIf="age.hasError('pattern')" class="invalid-feedback">
                                                Please enter a valid age between 18 and 69.
                                              </div>
                                            </div>


                                            <input
                                              type="text"
                                              id="Inputemail"
                                              class="form-control"
                                              placeholder="{{ 'email' | translate }}"
                                              formControlName="email"
                                              [ngClass]="{ 'is-invalid': fus.controls.email.invalid && (fus.controls.email.dirty || fus.controls.email.touched) }"
                                            />
                                            <div *ngIf="fus.controls.email.invalid && (fus.controls.email.dirty || fus.controls.email.touched)" class="invalid-feedback">
                                              Please enter a valid email address.
                                            </div>


                                        <input
                                          type="text"
                                          id="Inputcount"
                                          class="form-control"
                                          placeholder="{{ 'country' | translate }}"
                                          formControlName="country"
                                          [ngClass]="{ 'is-invalid': invalidField('country') }"
                                        />
                                        <span class="invalid-feedback">{{ 'country' | translate }}</span>



                                        <input
                                          type="text"
                                          id="Inputph"
                                          class="form-control"
                                          placeholder="{{ 'phone' | translate }}"
                                          formControlName="phone" />

                                            <select id="organization"
                                                  class="form-control"
                                                  (change)="onSelectOrganization()"
                                                  [(ngModel)]="selectedorganization"
                                                  (ngModelChange)="getOrganizations" formControlName="organization">
                                                  <option disabled selected ="">{{ selectedorganization }}</option>
                                                  <option *ngFor="let item of organizationData" [value]="item.organization">{{ item.organization }}</option>
                                            </select>


                                            <input
                                            type="text"
                                            id="Inputpos"
                                            class="form-control"
                                            placeholder="{{ 'position' | translate }}"
                                            formControlName="position"
                                            [ngClass]="{ 'is-invalid': invalidField('position') }"
                                          />
                                          <div *ngIf="invalidField('position')" class="invalid-feedback">
                                            Please enter a valid position.
                                          </div>
                                  </div>


                                   <div class="form-group col-md-6 mb-3">
                                      <div class="card card-primary card-img">
                                        <div class="text-center">
                                          <label for="pictureUpload" class="mb-3">
                                            <img src="{{ fus.get('picture').value }}" width="100" height="100">
                                            {{ 'Avatar/Foto' | translate }}
                                          </label>
                                          <input type="file" id="pictureUpload" (change)="uploadImage($event)" formControlName="picture" style="display: none;">
                                      </div>
                                      </div>

                               </div>



                        </mat-dialog-actions>
                        </ng-container>

                      </div>


                      <div class="card-footer">
                        <button mat-dialog-close class="btn btn-secondary float-right">Cancelar</button>
                        <button type="submit" class="btn btn-warning float-right" [disabled]="fus.invalid">Salvar</button>
                      </div>

       </form>

  </div>

</mat-dialog-content>

